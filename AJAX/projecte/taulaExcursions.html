<!DOCTYPE html>
<html>
<body>

<h2>Rutes Mallorca</h2>
<button type="button" onclick="loadDoc()">Excursions</button>
<br><br>
<table border="1">
	<thead>
		<tr><th>NOM</th><th>INICI</th><th>FI</th><th>DIFICULTAT</th><th>TIPUS</th><th>KM</th></tr>
	</thead>
	<tbody  id="content">
	</tbody>
</table>
 
<script>

	function loadDoc() {
		var xhttp = xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
	  		myFunction(this);
  			}
		};
		xhttp.open("GET", "rutes.xml", true);
		xhttp.send();
	}

	function myFunction(xml) {
	  var i;
	  var xmlDoc = xml.responseXML;
	  var table="";
	  var x = xmlDoc.getElementsByTagName("RUTA");
	  for (i = 0; i <x.length; i++) { 
	    table += "<tr><td>" +
	    x[i].getElementsByTagName("NOM")[0].childNodes[0].nodeValue +
	    "</td><td>" +
	    x[i].getElementsByTagName("INICI")[0].childNodes[0].nodeValue +
	    "</td><td>" +
		x[i].getElementsByTagName("FI")[0].childNodes[0].nodeValue +
	    "</td><td>" +
		x[i].getElementsByTagName("DIFICULTAT")[0].childNodes[0].nodeValue +
	    "</td><td>" +
		x[i].getElementsByTagName("TIPUS")[0].childNodes[0].nodeValue +
	    "</td><td>" +
		x[i].getElementsByTagName("KM")[0].childNodes[0].nodeValue +
	    "</td></tr>" 
		;
	  }
	  document.getElementById("content").innerHTML = table;
	}
</script>

</body>
</html>
